# Logfile created on Thu Oct 11 22:48:51 -0400 2007 by /
  [4;36;1mSQL (0.016686)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: no such table: departments: DROP TABLE departments[0m
  [4;36;1mSQL (0.002960)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.001837)[0m   [0mCREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001674)[0m   [0;1mINSERT INTO schema_info (version) VALUES(0)[0m
  [4;35;1mSQL (0.001748)[0m   [0mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000377)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.002681)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002173)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001763)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000373)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003363)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002133)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001806)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000399)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003379)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.001991)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001740)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000410)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: no such table: departments: DROP TABLE departments[0m
  [4;36;1mSQL (0.002722)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.002207)[0m   [0mCREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001999)[0m   [0;1mINSERT INTO schema_info (version) VALUES(0)[0m
  [4;35;1mSQL (0.001827)[0m   [0mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000377)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003449)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002321)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002014)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000381)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003467)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002239)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001847)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000432)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003273)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002137)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001876)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000381)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.002427)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002196)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002259)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000407)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003249)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002194)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001872)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000379)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003389)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002224)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001770)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000414)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.002846)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.001915)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002236)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000482)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003667)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.031837)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.032042)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000383)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003392)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002263)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002007)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000382)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.002816)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002191)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001931)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000370)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003462)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002190)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002057)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000500)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003556)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002242)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001965)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000386)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003385)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002120)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002073)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000385)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.002885)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.113406)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002124)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000373)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.002848)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002208)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001756)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000496)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.000403)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.002778)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002255)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002002)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000488)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.000431)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003359)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002271)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001909)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000432)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003388)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002003)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002013)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000403)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003360)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002115)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002106)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000418)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003532)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002234)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001944)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000404)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003637)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.097057)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002106)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000446)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003628)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002262)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001945)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000425)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.002528)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.094607)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001892)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000402)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003514)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.100573)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002104)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000440)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003472)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002248)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001840)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000495)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.000458)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003188)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.097293)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002400)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000488)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.000429)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003462)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.087099)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001968)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000402)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.000426)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003682)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.103659)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002426)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000473)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003394)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002125)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002091)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000441)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003271)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002072)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001921)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000425)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003438)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002199)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001931)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000435)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003583)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002302)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001946)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000441)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003567)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.097072)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002109)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mDepartment Load (0.000000)[0m   [0mSQLite3::SQLException: near "AND": syntax error: SELECT * FROM departments WHERE (organization_id
 AND (lft <=
 
 AND rgt >=
 )) ORDER BY lft[0m
  [4;36;1mSQL (0.000403)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.002590)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.084146)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002095)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000384)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003388)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002199)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001990)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000393)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003647)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002453)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002158)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000423)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.002521)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002053)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001770)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000411)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003155)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.001843)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001718)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000384)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003409)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002329)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001950)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000399)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.000425)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.002671)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.001850)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001713)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mDepartment Load (0.000832)[0m   [0mSELECT * FROM departments WHERE (lft <= NULL AND rgt >= NULL) ORDER BY lft[0m
  [4;36;1mSQL (0.000386)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.000412)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003470)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.122727)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002444)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mDepartment Load (0.000819)[0m   [0mSELECT * FROM departments WHERE (lft <= NULL AND rgt >= NULL) ORDER BY lft[0m
  [4;36;1mSQL (0.000407)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003334)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.089458)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002084)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: no such column: departments.: SELECT max(rgt) AS max_rgt FROM departments WHERE (departments."" IS NULL) [0m
  [4;36;1mSQL (0.000372)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.002664)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.091454)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001970)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mDepartment Load (0.000000)[0m   [0mSQLite3::SQLException: near "AND": syntax error: SELECT * FROM departments WHERE (
 AND (lft <=
 
 AND rgt >=
 )) ORDER BY lft[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSQLite3::SQLException: no such column: departments.1: SELECT max(rgt) AS max_rgt FROM departments WHERE (departments."1" = 1) [0m
  [4;36;1mSQL (0.000385)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.002749)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002262)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001926)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mDepartment Load (0.000000)[0m   [0mSQLite3::SQLException: near "AND": syntax error: SELECT * FROM departments WHERE (
 AND (lft <=
 
 AND rgt >=
 )) ORDER BY lft[0m
  [4;36;1mSQL (0.000329)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000398)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 1', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000201)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000113)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 2', 3, NULL, 4)[0m
  [4;36;1mDepartment Update (0.000170)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 3 AND 4 THEN lft + -1 WHEN lft BETWEEN 2 AND 4 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 3 AND 4 THEN rgt + -1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 2 THEN 1 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000255)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 2) [0m
  [4;36;1mSQL (0.000227)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000135)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 3', 5, NULL, 6)[0m
  [4;36;1mDepartment Update (0.000207)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -2 WHEN lft BETWEEN 3 AND 6 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -2 WHEN rgt BETWEEN 3 AND 6 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 3 THEN 2 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000277)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 3) [0m
  [4;36;1mSQL (0.000230)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000118)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 4', 7, NULL, 8)[0m
  [4;36;1mDepartment Update (0.000188)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 7 AND 8 THEN lft + -4 WHEN lft BETWEEN 3 AND 8 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 7 AND 8 THEN rgt + -4 WHEN rgt BETWEEN 3 AND 8 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 4 THEN 2 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000269)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 4) [0m
  [4;36;1mSQL (0.000222)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000113)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 5', 9, NULL, 10)[0m
  [4;36;1mDepartment Update (0.000195)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 9 AND 10 THEN lft + -6 WHEN lft BETWEEN 3 AND 10 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 9 AND 10 THEN rgt + -6 WHEN rgt BETWEEN 3 AND 10 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 5 THEN 2 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000259)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 5) [0m
  [4;36;1mSQL (0.000223)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000110)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 6', 11, NULL, 12)[0m
  [4;36;1mDepartment Update (0.000194)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 11 AND 12 THEN lft + -9 WHEN lft BETWEEN 2 AND 12 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 11 AND 12 THEN rgt + -9 WHEN rgt BETWEEN 2 AND 12 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 6 THEN 1 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000262)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 6) [0m
  [4;36;1mSQL (0.000223)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000118)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 7', 13, NULL, 14)[0m
  [4;36;1mDepartment Update (0.000192)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 13 AND 14 THEN lft + -10 WHEN lft BETWEEN 3 AND 14 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 13 AND 14 THEN rgt + -10 WHEN rgt BETWEEN 3 AND 14 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 7 THEN 6 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000312)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 7) [0m
  [4;36;1mSQL (0.000216)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000200)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 8', 15, NULL, 16)[0m
  [4;36;1mDepartment Update (0.000214)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 15 AND 16 THEN lft + -12 WHEN lft BETWEEN 3 AND 16 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 15 AND 16 THEN rgt + -12 WHEN rgt BETWEEN 3 AND 16 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 8 THEN 6 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000296)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 8) [0m
  [4;36;1mSQL (0.000242)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000122)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 9', 17, NULL, 18)[0m
  [4;36;1mDepartment Update (0.000210)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 17 AND 18 THEN lft + -14 WHEN lft BETWEEN 3 AND 18 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 17 AND 18 THEN rgt + -14 WHEN rgt BETWEEN 3 AND 18 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 9 THEN 6 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000288)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 9) [0m
  [4;36;1mSQL (0.000244)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000126)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 10', 19, NULL, 20)[0m
  [4;36;1mDepartment Update (0.000222)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 19 AND 20 THEN lft + -17 WHEN lft BETWEEN 2 AND 20 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 19 AND 20 THEN rgt + -17 WHEN rgt BETWEEN 2 AND 20 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 10 THEN 1 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000267)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 10) [0m
  [4;36;1mSQL (0.000224)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000123)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 11', 21, NULL, 22)[0m
  [4;36;1mDepartment Update (0.000214)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 21 AND 22 THEN lft + -18 WHEN lft BETWEEN 3 AND 22 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 21 AND 22 THEN rgt + -18 WHEN rgt BETWEEN 3 AND 22 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 11 THEN 10 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000270)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 11) [0m
  [4;36;1mSQL (0.000226)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000113)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 12', 23, NULL, 24)[0m
  [4;36;1mDepartment Update (0.000219)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 23 AND 24 THEN lft + -20 WHEN lft BETWEEN 3 AND 24 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 23 AND 24 THEN rgt + -20 WHEN rgt BETWEEN 3 AND 24 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 12 THEN 10 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000634)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 12) [0m
  [4;36;1mSQL (0.000238)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000116)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 13', 25, NULL, 26)[0m
  [4;36;1mDepartment Update (0.000218)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 25 AND 26 THEN lft + -22 WHEN lft BETWEEN 3 AND 26 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 25 AND 26 THEN rgt + -22 WHEN rgt BETWEEN 3 AND 26 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 13 THEN 10 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000262)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 13) [0m
  [4;36;1mDepartment Load (0.000000)[0m   [0;1mSQLite3::SQLException: near "AND": syntax error: SELECT * FROM departments WHERE (
 AND parent_id = 1) ORDER BY lft[0m
  [4;36;1mSQL (0.000411)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.002423)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.001959)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001714)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000347)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;36;1mDepartment Create (0.000409)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 1', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000249)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;36;1mDepartment Create (0.000135)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 2', 3, NULL, 4)[0m
  [4;35;1mDepartment Update (0.000203)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 3 AND 4 THEN lft + -1 WHEN lft BETWEEN 2 AND 4 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 3 AND 4 THEN rgt + -1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 2 THEN 1 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000307)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 2) [0m
  [4;35;1mSQL (0.000270)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;36;1mDepartment Create (0.000124)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 3', 5, NULL, 6)[0m
  [4;35;1mDepartment Update (0.000190)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -2 WHEN lft BETWEEN 3 AND 6 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -2 WHEN rgt BETWEEN 3 AND 6 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 3 THEN 2 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000272)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 3) [0m
  [4;35;1mSQL (0.000221)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;36;1mDepartment Create (0.000124)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 4', 7, NULL, 8)[0m
  [4;35;1mDepartment Update (0.000190)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 7 AND 8 THEN lft + -4 WHEN lft BETWEEN 3 AND 8 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 7 AND 8 THEN rgt + -4 WHEN rgt BETWEEN 3 AND 8 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 4 THEN 2 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000265)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 4) [0m
  [4;35;1mSQL (0.000226)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;36;1mDepartment Create (0.000117)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 5', 9, NULL, 10)[0m
  [4;35;1mDepartment Update (0.000190)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 9 AND 10 THEN lft + -6 WHEN lft BETWEEN 3 AND 10 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 9 AND 10 THEN rgt + -6 WHEN rgt BETWEEN 3 AND 10 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 5 THEN 2 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000254)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 5) [0m
  [4;35;1mSQL (0.000232)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;36;1mDepartment Create (0.000121)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 6', 11, NULL, 12)[0m
  [4;35;1mDepartment Update (0.000224)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 11 AND 12 THEN lft + -9 WHEN lft BETWEEN 2 AND 12 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 11 AND 12 THEN rgt + -9 WHEN rgt BETWEEN 2 AND 12 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 6 THEN 1 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000296)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 6) [0m
  [4;35;1mSQL (0.000243)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;36;1mDepartment Create (0.000129)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 7', 13, NULL, 14)[0m
  [4;35;1mDepartment Update (0.000203)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 13 AND 14 THEN lft + -10 WHEN lft BETWEEN 3 AND 14 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 13 AND 14 THEN rgt + -10 WHEN rgt BETWEEN 3 AND 14 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 7 THEN 6 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000263)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 7) [0m
  [4;35;1mSQL (0.000228)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;36;1mDepartment Create (0.000114)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 8', 15, NULL, 16)[0m
  [4;35;1mDepartment Update (0.000209)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 15 AND 16 THEN lft + -12 WHEN lft BETWEEN 3 AND 16 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 15 AND 16 THEN rgt + -12 WHEN rgt BETWEEN 3 AND 16 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 8 THEN 6 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000270)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 8) [0m
  [4;35;1mSQL (0.000374)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;36;1mDepartment Create (0.000138)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 9', 17, NULL, 18)[0m
  [4;35;1mDepartment Update (0.000216)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 17 AND 18 THEN lft + -14 WHEN lft BETWEEN 3 AND 18 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 17 AND 18 THEN rgt + -14 WHEN rgt BETWEEN 3 AND 18 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 9 THEN 6 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000281)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 9) [0m
  [4;35;1mSQL (0.000257)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;36;1mDepartment Create (0.000126)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 10', 19, NULL, 20)[0m
  [4;35;1mDepartment Update (0.000209)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 19 AND 20 THEN lft + -17 WHEN lft BETWEEN 2 AND 20 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 19 AND 20 THEN rgt + -17 WHEN rgt BETWEEN 2 AND 20 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 10 THEN 1 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000273)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 10) [0m
  [4;35;1mSQL (0.000250)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;36;1mDepartment Create (0.000119)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 11', 21, NULL, 22)[0m
  [4;35;1mDepartment Update (0.000217)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 21 AND 22 THEN lft + -18 WHEN lft BETWEEN 3 AND 22 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 21 AND 22 THEN rgt + -18 WHEN rgt BETWEEN 3 AND 22 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 11 THEN 10 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.001522)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 11) [0m
  [4;35;1mSQL (0.000268)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;36;1mDepartment Create (0.000124)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 12', 23, NULL, 24)[0m
  [4;35;1mDepartment Update (0.000219)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 23 AND 24 THEN lft + -20 WHEN lft BETWEEN 3 AND 24 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 23 AND 24 THEN rgt + -20 WHEN rgt BETWEEN 3 AND 24 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 12 THEN 10 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000267)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 12) [0m
  [4;35;1mSQL (0.000254)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;36;1mDepartment Create (0.000129)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 13', 25, NULL, 26)[0m
  [4;35;1mDepartment Update (0.000227)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 25 AND 26 THEN lft + -22 WHEN lft BETWEEN 3 AND 26 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 25 AND 26 THEN rgt + -22 WHEN rgt BETWEEN 3 AND 26 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 13 THEN 10 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000268)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 13) [0m
  [4;35;1mDepartment Load (0.001222)[0m   [0mSELECT * FROM departments WHERE (( departments."parent_id" = 1 ) AND ( 1 = 1 )) ORDER BY lft[0m
  [4;36;1mSQL (0.000398)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.000377)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.002532)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002356)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001915)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mDepartment Load (0.000000)[0m   [0mSQLite3::SQLException: near "AND": syntax error: SELECT * FROM departments WHERE (( (lft <=
 
 AND rgt >=
 ) ) AND ( 1 = 1 )) ORDER BY lft[0m
  [4;36;1mSQL (0.000369)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000399)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 1', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000208)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000105)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 2', 3, NULL, 4)[0m
  [4;36;1mDepartment Update (0.000171)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 3 AND 4 THEN lft + -1 WHEN lft BETWEEN 2 AND 4 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 3 AND 4 THEN rgt + -1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 2 THEN 1 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000242)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 2) [0m
  [4;36;1mSQL (0.000199)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000104)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 3', 5, NULL, 6)[0m
  [4;36;1mDepartment Update (0.000169)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -2 WHEN lft BETWEEN 3 AND 6 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -2 WHEN rgt BETWEEN 3 AND 6 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 3 THEN 2 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000239)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 3) [0m
  [4;36;1mSQL (0.000189)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000120)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 4', 7, NULL, 8)[0m
  [4;36;1mDepartment Update (0.000178)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 7 AND 8 THEN lft + -4 WHEN lft BETWEEN 3 AND 8 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 7 AND 8 THEN rgt + -4 WHEN rgt BETWEEN 3 AND 8 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 4 THEN 2 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000254)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 4) [0m
  [4;36;1mSQL (0.000189)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000101)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 5', 9, NULL, 10)[0m
  [4;36;1mDepartment Update (0.000177)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 9 AND 10 THEN lft + -6 WHEN lft BETWEEN 3 AND 10 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 9 AND 10 THEN rgt + -6 WHEN rgt BETWEEN 3 AND 10 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 5 THEN 2 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000236)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 5) [0m
  [4;36;1mSQL (0.000177)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000108)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 6', 11, NULL, 12)[0m
  [4;36;1mDepartment Update (0.000180)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 11 AND 12 THEN lft + -9 WHEN lft BETWEEN 2 AND 12 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 11 AND 12 THEN rgt + -9 WHEN rgt BETWEEN 2 AND 12 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 6 THEN 1 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000237)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 6) [0m
  [4;36;1mSQL (0.000190)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000099)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 7', 13, NULL, 14)[0m
  [4;36;1mDepartment Update (0.000184)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 13 AND 14 THEN lft + -10 WHEN lft BETWEEN 3 AND 14 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 13 AND 14 THEN rgt + -10 WHEN rgt BETWEEN 3 AND 14 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 7 THEN 6 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000230)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 7) [0m
  [4;36;1mSQL (0.000180)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000114)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 8', 15, NULL, 16)[0m
  [4;36;1mDepartment Update (0.000293)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 15 AND 16 THEN lft + -12 WHEN lft BETWEEN 3 AND 16 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 15 AND 16 THEN rgt + -12 WHEN rgt BETWEEN 3 AND 16 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 8 THEN 6 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000282)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 8) [0m
  [4;36;1mSQL (0.000216)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000106)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 9', 17, NULL, 18)[0m
  [4;36;1mDepartment Update (0.000188)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 17 AND 18 THEN lft + -14 WHEN lft BETWEEN 3 AND 18 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 17 AND 18 THEN rgt + -14 WHEN rgt BETWEEN 3 AND 18 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 9 THEN 6 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000234)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 9) [0m
  [4;36;1mSQL (0.000194)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000106)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 10', 19, NULL, 20)[0m
  [4;36;1mDepartment Update (0.000199)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 19 AND 20 THEN lft + -17 WHEN lft BETWEEN 2 AND 20 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 19 AND 20 THEN rgt + -17 WHEN rgt BETWEEN 2 AND 20 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 10 THEN 1 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000248)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 10) [0m
  [4;36;1mSQL (0.000186)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000105)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 11', 21, NULL, 22)[0m
  [4;36;1mDepartment Update (0.000204)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 21 AND 22 THEN lft + -18 WHEN lft BETWEEN 3 AND 22 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 21 AND 22 THEN rgt + -18 WHEN rgt BETWEEN 3 AND 22 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 11 THEN 10 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000248)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 11) [0m
  [4;36;1mSQL (0.000187)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000101)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 12', 23, NULL, 24)[0m
  [4;36;1mDepartment Update (0.000202)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 23 AND 24 THEN lft + -20 WHEN lft BETWEEN 3 AND 24 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 23 AND 24 THEN rgt + -20 WHEN rgt BETWEEN 3 AND 24 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 12 THEN 10 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000233)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 12) [0m
  [4;36;1mSQL (0.000181)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000101)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 13', 25, NULL, 26)[0m
  [4;36;1mDepartment Update (0.000207)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 25 AND 26 THEN lft + -22 WHEN lft BETWEEN 3 AND 26 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 25 AND 26 THEN rgt + -22 WHEN rgt BETWEEN 3 AND 26 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 13 THEN 10 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000235)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 13) [0m
  [4;36;1mDepartment Load (0.001188)[0m   [0;1mSELECT * FROM departments WHERE (( departments."parent_id" = 1 ) AND ( 1 = 1 )) ORDER BY lft[0m
  [4;36;1mSQL (0.000400)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003345)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.104329)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002500)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mDepartment Load (0.000000)[0m   [0mSQLite3::SQLException: near "AND": syntax error: SELECT * FROM departments WHERE (( (lft <=
 
 AND rgt >=
 ) ) AND ( 1 = 1 )) ORDER BY lft[0m
  [4;36;1mSQL (0.000373)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000389)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 1', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000208)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000105)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 2', 3, NULL, 4)[0m
  [4;36;1mDepartment Update (0.000170)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 3 AND 4 THEN lft + -1 WHEN lft BETWEEN 2 AND 4 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 3 AND 4 THEN rgt + -1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 2 THEN 1 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000240)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 2) [0m
  [4;36;1mSQL (0.000191)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000111)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 3', 5, NULL, 6)[0m
  [4;36;1mDepartment Update (0.000173)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -2 WHEN lft BETWEEN 3 AND 6 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -2 WHEN rgt BETWEEN 3 AND 6 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 3 THEN 2 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000242)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 3) [0m
  [4;36;1mSQL (0.000241)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000134)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 4', 7, NULL, 8)[0m
  [4;36;1mDepartment Update (0.000189)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 7 AND 8 THEN lft + -4 WHEN lft BETWEEN 3 AND 8 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 7 AND 8 THEN rgt + -4 WHEN rgt BETWEEN 3 AND 8 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 4 THEN 2 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000245)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 4) [0m
  [4;36;1mSQL (0.000188)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000103)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 5', 9, NULL, 10)[0m
  [4;36;1mDepartment Update (0.000176)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 9 AND 10 THEN lft + -6 WHEN lft BETWEEN 3 AND 10 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 9 AND 10 THEN rgt + -6 WHEN rgt BETWEEN 3 AND 10 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 5 THEN 2 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000242)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 5) [0m
  [4;36;1mSQL (0.000176)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000103)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 6', 11, NULL, 12)[0m
  [4;36;1mDepartment Update (0.000181)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 11 AND 12 THEN lft + -9 WHEN lft BETWEEN 2 AND 12 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 11 AND 12 THEN rgt + -9 WHEN rgt BETWEEN 2 AND 12 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 6 THEN 1 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000243)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 6) [0m
  [4;36;1mSQL (0.000195)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000101)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 7', 13, NULL, 14)[0m
  [4;36;1mDepartment Update (0.000183)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 13 AND 14 THEN lft + -10 WHEN lft BETWEEN 3 AND 14 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 13 AND 14 THEN rgt + -10 WHEN rgt BETWEEN 3 AND 14 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 7 THEN 6 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000240)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 7) [0m
  [4;36;1mSQL (0.000177)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000188)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 8', 15, NULL, 16)[0m
  [4;36;1mDepartment Update (0.000201)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 15 AND 16 THEN lft + -12 WHEN lft BETWEEN 3 AND 16 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 15 AND 16 THEN rgt + -12 WHEN rgt BETWEEN 3 AND 16 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 8 THEN 6 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000264)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 8) [0m
  [4;36;1mSQL (0.000201)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000106)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 9', 17, NULL, 18)[0m
  [4;36;1mDepartment Update (0.000189)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 17 AND 18 THEN lft + -14 WHEN lft BETWEEN 3 AND 18 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 17 AND 18 THEN rgt + -14 WHEN rgt BETWEEN 3 AND 18 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 9 THEN 6 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000241)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 9) [0m
  [4;36;1mSQL (0.000199)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000115)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 10', 19, NULL, 20)[0m
  [4;36;1mDepartment Update (0.000199)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 19 AND 20 THEN lft + -17 WHEN lft BETWEEN 2 AND 20 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 19 AND 20 THEN rgt + -17 WHEN rgt BETWEEN 2 AND 20 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 10 THEN 1 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000237)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 10) [0m
  [4;36;1mSQL (0.000189)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000104)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 11', 21, NULL, 22)[0m
  [4;36;1mDepartment Update (0.000240)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 21 AND 22 THEN lft + -18 WHEN lft BETWEEN 3 AND 22 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 21 AND 22 THEN rgt + -18 WHEN rgt BETWEEN 3 AND 22 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 11 THEN 10 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000253)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 11) [0m
  [4;36;1mSQL (0.000200)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000106)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 12', 23, NULL, 24)[0m
  [4;36;1mDepartment Update (0.000206)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 23 AND 24 THEN lft + -20 WHEN lft BETWEEN 3 AND 24 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 23 AND 24 THEN rgt + -20 WHEN rgt BETWEEN 3 AND 24 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 12 THEN 10 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000238)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 12) [0m
  [4;36;1mSQL (0.000185)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000103)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 13', 25, NULL, 26)[0m
  [4;36;1mDepartment Update (0.000207)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 25 AND 26 THEN lft + -22 WHEN lft BETWEEN 3 AND 26 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 25 AND 26 THEN rgt + -22 WHEN rgt BETWEEN 3 AND 26 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 13 THEN 10 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000239)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 13) [0m
  [4;36;1mDepartment Load (0.001124)[0m   [0;1mSELECT * FROM departments WHERE (( departments."parent_id" = 1 ) AND ( 1 = 1 )) ORDER BY lft[0m
  [4;36;1mSQL (0.002053)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: no such table: categories: DROP TABLE categories[0m
  [4;36;1mSQL (0.002477)[0m   [0;1mCREATE TABLE categories ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.003225)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002578)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001936)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000401)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003659)[0m   [0mDROP TABLE categories[0m
  [4;36;1mSQL (0.002018)[0m   [0;1mCREATE TABLE categories ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.001989)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002114)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002087)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mDepartment Load (0.000000)[0m   [0mSQLite3::SQLException: near "AND": syntax error: SELECT * FROM departments WHERE (( (lft <=
 
 AND rgt >=
 ) ) AND ( 1 = 1 )) ORDER BY lft[0m
  [4;36;1mSQL (0.000466)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000592)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 1', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000457)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000137)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 2', 3, NULL, 4)[0m
  [4;36;1mDepartment Update (0.000183)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 3 AND 4 THEN lft + -1 WHEN lft BETWEEN 2 AND 4 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 3 AND 4 THEN rgt + -1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 2 THEN 1 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000253)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 2) [0m
  [4;36;1mSQL (0.000227)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000105)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 3', 5, NULL, 6)[0m
  [4;36;1mDepartment Update (0.000180)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -2 WHEN lft BETWEEN 3 AND 6 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -2 WHEN rgt BETWEEN 3 AND 6 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 3 THEN 2 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000245)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 3) [0m
  [4;36;1mSQL (0.000187)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000102)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 4', 7, NULL, 8)[0m
  [4;36;1mDepartment Update (0.000169)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 7 AND 8 THEN lft + -4 WHEN lft BETWEEN 3 AND 8 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 7 AND 8 THEN rgt + -4 WHEN rgt BETWEEN 3 AND 8 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 4 THEN 2 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000230)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 4) [0m
  [4;36;1mSQL (0.000189)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000117)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 5', 9, NULL, 10)[0m
  [4;36;1mDepartment Update (0.000182)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 9 AND 10 THEN lft + -6 WHEN lft BETWEEN 3 AND 10 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 9 AND 10 THEN rgt + -6 WHEN rgt BETWEEN 3 AND 10 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 5 THEN 2 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000293)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 5) [0m
  [4;36;1mSQL (0.000228)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000111)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 6', 11, NULL, 12)[0m
  [4;36;1mDepartment Update (0.000182)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 11 AND 12 THEN lft + -9 WHEN lft BETWEEN 2 AND 12 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 11 AND 12 THEN rgt + -9 WHEN rgt BETWEEN 2 AND 12 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 6 THEN 1 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000234)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 6) [0m
  [4;36;1mSQL (0.000201)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000105)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 7', 13, NULL, 14)[0m
  [4;36;1mDepartment Update (0.000192)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 13 AND 14 THEN lft + -10 WHEN lft BETWEEN 3 AND 14 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 13 AND 14 THEN rgt + -10 WHEN rgt BETWEEN 3 AND 14 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 7 THEN 6 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000242)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 7) [0m
  [4;36;1mSQL (0.000201)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000144)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 8', 15, NULL, 16)[0m
  [4;36;1mDepartment Update (0.000203)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 15 AND 16 THEN lft + -12 WHEN lft BETWEEN 3 AND 16 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 15 AND 16 THEN rgt + -12 WHEN rgt BETWEEN 3 AND 16 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 8 THEN 6 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000283)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 8) [0m
  [4;36;1mSQL (0.000237)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000109)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 9', 17, NULL, 18)[0m
  [4;36;1mDepartment Update (0.000197)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 17 AND 18 THEN lft + -14 WHEN lft BETWEEN 3 AND 18 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 17 AND 18 THEN rgt + -14 WHEN rgt BETWEEN 3 AND 18 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 9 THEN 6 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000237)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 9) [0m
  [4;36;1mSQL (0.000205)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000105)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 10', 19, NULL, 20)[0m
  [4;36;1mDepartment Update (0.000216)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 19 AND 20 THEN lft + -17 WHEN lft BETWEEN 2 AND 20 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 19 AND 20 THEN rgt + -17 WHEN rgt BETWEEN 2 AND 20 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 10 THEN 1 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000243)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 10) [0m
  [4;36;1mSQL (0.000195)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000103)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 11', 21, NULL, 22)[0m
  [4;36;1mDepartment Update (0.000214)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 21 AND 22 THEN lft + -18 WHEN lft BETWEEN 3 AND 22 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 21 AND 22 THEN rgt + -18 WHEN rgt BETWEEN 3 AND 22 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 11 THEN 10 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000242)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 11) [0m
  [4;36;1mSQL (0.000249)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000125)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 12', 23, NULL, 24)[0m
  [4;36;1mDepartment Update (0.000229)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 23 AND 24 THEN lft + -20 WHEN lft BETWEEN 3 AND 24 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 23 AND 24 THEN rgt + -20 WHEN rgt BETWEEN 3 AND 24 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 12 THEN 10 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000313)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 12) [0m
  [4;36;1mSQL (0.000249)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000172)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 13', 25, NULL, 26)[0m
  [4;36;1mDepartment Update (0.000298)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 25 AND 26 THEN lft + -22 WHEN lft BETWEEN 3 AND 26 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 25 AND 26 THEN rgt + -22 WHEN rgt BETWEEN 3 AND 26 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 13 THEN 10 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000323)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 13) [0m
  [4;36;1mDepartment Load (0.002811)[0m   [0;1mSELECT * FROM departments WHERE (( departments."parent_id" = 1 ) AND ( 1 = 1 )) ORDER BY lft[0m
  [4;36;1mSQL (0.000396)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003615)[0m   [0mDROP TABLE categories[0m
  [4;36;1mSQL (0.002179)[0m   [0;1mCREATE TABLE categories ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.001965)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.001998)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002051)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mDepartment Load (0.000000)[0m   [0mSQLite3::SQLException: near "AND": syntax error: SELECT * FROM departments WHERE (( (lft <=
 
 AND rgt >=
 ) ) AND ( 1 = 1 )) ORDER BY lft[0m
  [4;36;1mSQL (0.000398)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000525)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 1', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000223)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000113)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 2', 3, NULL, 4)[0m
  [4;36;1mDepartment Update (0.000174)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 3 AND 4 THEN lft + -1 WHEN lft BETWEEN 2 AND 4 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 3 AND 4 THEN rgt + -1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 2 THEN 1 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000262)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 2) [0m
  [4;36;1mSQL (0.000292)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000115)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 3', 5, NULL, 6)[0m
  [4;36;1mDepartment Update (0.000179)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -2 WHEN lft BETWEEN 3 AND 6 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -2 WHEN rgt BETWEEN 3 AND 6 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 3 THEN 2 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000250)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 3) [0m
  [4;36;1mSQL (0.000256)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000132)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 4', 7, NULL, 8)[0m
  [4;36;1mDepartment Update (0.000438)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 7 AND 8 THEN lft + -4 WHEN lft BETWEEN 3 AND 8 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 7 AND 8 THEN rgt + -4 WHEN rgt BETWEEN 3 AND 8 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 4 THEN 2 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000327)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 4) [0m
  [4;36;1mSQL (0.000243)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000237)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 5', 9, NULL, 10)[0m
  [4;36;1mDepartment Update (0.000215)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 9 AND 10 THEN lft + -6 WHEN lft BETWEEN 3 AND 10 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 9 AND 10 THEN rgt + -6 WHEN rgt BETWEEN 3 AND 10 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 5 THEN 2 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000261)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 5) [0m
  [4;36;1mSQL (0.000213)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000105)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 6', 11, NULL, 12)[0m
  [4;36;1mDepartment Update (0.000206)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 11 AND 12 THEN lft + -9 WHEN lft BETWEEN 2 AND 12 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 11 AND 12 THEN rgt + -9 WHEN rgt BETWEEN 2 AND 12 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 6 THEN 1 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000255)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 6) [0m
  [4;36;1mSQL (0.000195)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000107)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 7', 13, NULL, 14)[0m
  [4;36;1mDepartment Update (0.000186)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 13 AND 14 THEN lft + -10 WHEN lft BETWEEN 3 AND 14 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 13 AND 14 THEN rgt + -10 WHEN rgt BETWEEN 3 AND 14 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 7 THEN 6 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000238)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 7) [0m
  [4;36;1mSQL (0.000198)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000102)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 8', 15, NULL, 16)[0m
  [4;36;1mDepartment Update (0.000191)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 15 AND 16 THEN lft + -12 WHEN lft BETWEEN 3 AND 16 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 15 AND 16 THEN rgt + -12 WHEN rgt BETWEEN 3 AND 16 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 8 THEN 6 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000243)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 8) [0m
  [4;36;1mSQL (0.000204)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000110)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 9', 17, NULL, 18)[0m
  [4;36;1mDepartment Update (0.000194)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 17 AND 18 THEN lft + -14 WHEN lft BETWEEN 3 AND 18 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 17 AND 18 THEN rgt + -14 WHEN rgt BETWEEN 3 AND 18 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 9 THEN 6 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000242)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 9) [0m
  [4;36;1mSQL (0.000191)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000103)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 10', 19, NULL, 20)[0m
  [4;36;1mDepartment Update (0.000221)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 19 AND 20 THEN lft + -17 WHEN lft BETWEEN 2 AND 20 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 19 AND 20 THEN rgt + -17 WHEN rgt BETWEEN 2 AND 20 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 10 THEN 1 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000266)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 10) [0m
  [4;36;1mSQL (0.000211)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000106)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 11', 21, NULL, 22)[0m
  [4;36;1mDepartment Update (0.000200)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 21 AND 22 THEN lft + -18 WHEN lft BETWEEN 3 AND 22 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 21 AND 22 THEN rgt + -18 WHEN rgt BETWEEN 3 AND 22 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 11 THEN 10 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000238)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 11) [0m
  [4;36;1mSQL (0.000250)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000132)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 12', 23, NULL, 24)[0m
  [4;36;1mDepartment Update (0.000213)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 23 AND 24 THEN lft + -20 WHEN lft BETWEEN 3 AND 24 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 23 AND 24 THEN rgt + -20 WHEN rgt BETWEEN 3 AND 24 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 12 THEN 10 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000380)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 12) [0m
  [4;36;1mSQL (0.000340)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000430)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 13', 25, NULL, 26)[0m
  [4;36;1mDepartment Update (0.000270)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 25 AND 26 THEN lft + -22 WHEN lft BETWEEN 3 AND 26 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 25 AND 26 THEN rgt + -22 WHEN rgt BETWEEN 3 AND 26 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 13 THEN 10 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000307)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 13) [0m
  [4;36;1mDepartment Load (0.001318)[0m   [0;1mSELECT * FROM departments WHERE (( departments."parent_id" = 1 ) AND ( 1 = 1 )) ORDER BY lft[0m
  [4;36;1mSQL (0.000407)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003522)[0m   [0mDROP TABLE categories[0m
  [4;36;1mSQL (0.102395)[0m   [0;1mCREATE TABLE categories ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.002223)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002219)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002267)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mDepartment Load (0.000000)[0m   [0mSQLite3::SQLException: near "AND": syntax error: SELECT * FROM departments WHERE (( (lft <=
 
 AND rgt >=
 ) ) AND ( 1 = 1 )) ORDER BY lft[0m
  [4;36;1mCategory Load (0.000654)[0m   [0;1mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) [0m
  [4;35;1mCategory Load (0.001227)[0m   [0mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) ORDER BY lft[0m
  [4;36;1mSQL (0.000423)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000511)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 1', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000256)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000134)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 2', 3, NULL, 4)[0m
  [4;36;1mDepartment Update (0.000229)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 3 AND 4 THEN lft + -1 WHEN lft BETWEEN 2 AND 4 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 3 AND 4 THEN rgt + -1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 2 THEN 1 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000315)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 2) [0m
  [4;36;1mSQL (0.000328)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000173)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 3', 5, NULL, 6)[0m
  [4;36;1mDepartment Update (0.000326)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -2 WHEN lft BETWEEN 3 AND 6 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -2 WHEN rgt BETWEEN 3 AND 6 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 3 THEN 2 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000367)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 3) [0m
  [4;36;1mSQL (0.000279)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000274)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 4', 7, NULL, 8)[0m
  [4;36;1mDepartment Update (0.000621)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 7 AND 8 THEN lft + -4 WHEN lft BETWEEN 3 AND 8 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 7 AND 8 THEN rgt + -4 WHEN rgt BETWEEN 3 AND 8 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 4 THEN 2 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000394)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 4) [0m
  [4;36;1mSQL (0.000258)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000140)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 5', 9, NULL, 10)[0m
  [4;36;1mDepartment Update (0.000237)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 9 AND 10 THEN lft + -6 WHEN lft BETWEEN 3 AND 10 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 9 AND 10 THEN rgt + -6 WHEN rgt BETWEEN 3 AND 10 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 5 THEN 2 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000316)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 5) [0m
  [4;36;1mSQL (0.000244)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000172)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 6', 11, NULL, 12)[0m
  [4;36;1mDepartment Update (0.000262)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 11 AND 12 THEN lft + -9 WHEN lft BETWEEN 2 AND 12 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 11 AND 12 THEN rgt + -9 WHEN rgt BETWEEN 2 AND 12 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 6 THEN 1 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000329)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 6) [0m
  [4;36;1mSQL (0.000246)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000152)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 7', 13, NULL, 14)[0m
  [4;36;1mDepartment Update (0.000257)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 13 AND 14 THEN lft + -10 WHEN lft BETWEEN 3 AND 14 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 13 AND 14 THEN rgt + -10 WHEN rgt BETWEEN 3 AND 14 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 7 THEN 6 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000309)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 7) [0m
  [4;36;1mSQL (0.000251)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000167)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 8', 15, NULL, 16)[0m
  [4;36;1mDepartment Update (0.000258)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 15 AND 16 THEN lft + -12 WHEN lft BETWEEN 3 AND 16 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 15 AND 16 THEN rgt + -12 WHEN rgt BETWEEN 3 AND 16 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 8 THEN 6 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000348)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 8) [0m
  [4;36;1mSQL (0.000257)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000137)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 9', 17, NULL, 18)[0m
  [4;36;1mDepartment Update (0.000247)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 17 AND 18 THEN lft + -14 WHEN lft BETWEEN 3 AND 18 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 17 AND 18 THEN rgt + -14 WHEN rgt BETWEEN 3 AND 18 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 9 THEN 6 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000340)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 9) [0m
  [4;36;1mSQL (0.000259)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000141)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 10', 19, NULL, 20)[0m
  [4;36;1mDepartment Update (0.000252)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 19 AND 20 THEN lft + -17 WHEN lft BETWEEN 2 AND 20 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 19 AND 20 THEN rgt + -17 WHEN rgt BETWEEN 2 AND 20 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 10 THEN 1 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000301)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 10) [0m
  [4;36;1mSQL (0.000238)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000136)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 11', 21, NULL, 22)[0m
  [4;36;1mDepartment Update (0.000259)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 21 AND 22 THEN lft + -18 WHEN lft BETWEEN 3 AND 22 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 21 AND 22 THEN rgt + -18 WHEN rgt BETWEEN 3 AND 22 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 11 THEN 10 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000323)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 11) [0m
  [4;36;1mSQL (0.000237)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000136)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 12', 23, NULL, 24)[0m
  [4;36;1mDepartment Update (0.000265)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 23 AND 24 THEN lft + -20 WHEN lft BETWEEN 3 AND 24 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 23 AND 24 THEN rgt + -20 WHEN rgt BETWEEN 3 AND 24 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 12 THEN 10 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000333)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 12) [0m
  [4;36;1mSQL (0.000246)[0m   [0;1mSELECT max(rgt) AS max_rgt FROM departments WHERE (1 = 1) [0m
  [4;35;1mDepartment Create (0.000137)[0m   [0mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 13', 25, NULL, 26)[0m
  [4;36;1mDepartment Update (0.000262)[0m   [0;1mUPDATE departments SET lft = CASE WHEN lft BETWEEN 25 AND 26 THEN lft + -22 WHEN lft BETWEEN 3 AND 26 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 25 AND 26 THEN rgt + -22 WHEN rgt BETWEEN 3 AND 26 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 13 THEN 10 ELSE parent_id END [0m
  [4;35;1mDepartment Load (0.000303)[0m   [0mSELECT * FROM departments WHERE (departments."id" = 13) [0m
  [4;36;1mDepartment Load (0.001709)[0m   [0;1mSELECT * FROM departments WHERE (( departments."parent_id" = 1 ) AND ( 1 = 1 )) ORDER BY lft[0m
  [4;36;1mSQL (0.000415)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: no such table: categories: DROP TABLE categories[0m
  [4;36;1mSQL (0.002460)[0m   [0;1mCREATE TABLE categories ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: no such table: departments: DROP TABLE departments[0m
  [4;36;1mSQL (0.002123)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.002533)[0m   [0mCREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002051)[0m   [0;1mINSERT INTO schema_info (version) VALUES(0)[0m
  [4;35;1mSQL (0.001972)[0m   [0mUPDATE schema_info SET version = 0[0m
  [4;36;1mDepartment Load (0.000000)[0m   [0;1mSQLite3::SQLException: near "AND": syntax error: SELECT * FROM departments WHERE (lft <= AND rgt >= ) [0m
  [4;35;1mCategory Load (0.001305)[0m   [0mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) ORDER BY lft[0m
  [4;36;1mCategory Load (0.000448)[0m   [0;1mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) [0m
  [4;35;1mSQL (0.000383)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000458)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 1', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000241)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000133)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 2', 3, NULL, 4)[0m
  [4;35;1mDepartment Update (0.000199)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 3 AND 4 THEN lft + -1 WHEN lft BETWEEN 2 AND 4 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 3 AND 4 THEN rgt + -1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 2 THEN 1 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000306)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 2) [0m
  [4;35;1mSQL (0.000244)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000128)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 3', 5, NULL, 6)[0m
  [4;35;1mDepartment Update (0.000184)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -2 WHEN lft BETWEEN 3 AND 6 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -2 WHEN rgt BETWEEN 3 AND 6 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 3 THEN 2 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000271)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 3) [0m
  [4;35;1mSQL (0.000197)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000121)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 4', 7, NULL, 8)[0m
  [4;35;1mDepartment Update (0.000176)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 7 AND 8 THEN lft + -4 WHEN lft BETWEEN 3 AND 8 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 7 AND 8 THEN rgt + -4 WHEN rgt BETWEEN 3 AND 8 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 4 THEN 2 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000259)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 4) [0m
  [4;35;1mSQL (0.000268)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000150)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 5', 9, NULL, 10)[0m
  [4;35;1mDepartment Update (0.000204)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 9 AND 10 THEN lft + -6 WHEN lft BETWEEN 3 AND 10 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 9 AND 10 THEN rgt + -6 WHEN rgt BETWEEN 3 AND 10 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 5 THEN 2 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000280)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 5) [0m
  [4;35;1mSQL (0.000181)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000100)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 6', 11, NULL, 12)[0m
  [4;35;1mDepartment Update (0.000176)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 11 AND 12 THEN lft + -9 WHEN lft BETWEEN 2 AND 12 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 11 AND 12 THEN rgt + -9 WHEN rgt BETWEEN 2 AND 12 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 6 THEN 1 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000264)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 6) [0m
  [4;35;1mSQL (0.000207)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000105)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 7', 13, NULL, 14)[0m
  [4;35;1mDepartment Update (0.000181)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 13 AND 14 THEN lft + -10 WHEN lft BETWEEN 3 AND 14 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 13 AND 14 THEN rgt + -10 WHEN rgt BETWEEN 3 AND 14 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 7 THEN 6 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000239)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 7) [0m
  [4;35;1mSQL (0.000218)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000114)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 8', 15, NULL, 16)[0m
  [4;35;1mDepartment Update (0.000193)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 15 AND 16 THEN lft + -12 WHEN lft BETWEEN 3 AND 16 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 15 AND 16 THEN rgt + -12 WHEN rgt BETWEEN 3 AND 16 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 8 THEN 6 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000262)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 8) [0m
  [4;35;1mSQL (0.000196)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000103)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 9', 17, NULL, 18)[0m
  [4;35;1mDepartment Update (0.000181)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 17 AND 18 THEN lft + -14 WHEN lft BETWEEN 3 AND 18 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 17 AND 18 THEN rgt + -14 WHEN rgt BETWEEN 3 AND 18 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 9 THEN 6 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000231)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 9) [0m
  [4;35;1mSQL (0.000174)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000101)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 10', 19, NULL, 20)[0m
  [4;35;1mDepartment Update (0.000183)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 19 AND 20 THEN lft + -17 WHEN lft BETWEEN 2 AND 20 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 19 AND 20 THEN rgt + -17 WHEN rgt BETWEEN 2 AND 20 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 10 THEN 1 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000238)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 10) [0m
  [4;35;1mSQL (0.000168)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000100)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 11', 21, NULL, 22)[0m
  [4;35;1mDepartment Update (0.000187)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 21 AND 22 THEN lft + -18 WHEN lft BETWEEN 3 AND 22 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 21 AND 22 THEN rgt + -18 WHEN rgt BETWEEN 3 AND 22 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 11 THEN 10 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000231)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 11) [0m
  [4;35;1mSQL (0.000167)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000099)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 12', 23, NULL, 24)[0m
  [4;35;1mDepartment Update (0.000196)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 23 AND 24 THEN lft + -20 WHEN lft BETWEEN 3 AND 24 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 23 AND 24 THEN rgt + -20 WHEN rgt BETWEEN 3 AND 24 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 12 THEN 10 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000228)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 12) [0m
  [4;35;1mSQL (0.000170)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000099)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 13', 25, NULL, 26)[0m
  [4;35;1mDepartment Update (0.000194)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 25 AND 26 THEN lft + -22 WHEN lft BETWEEN 3 AND 26 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 25 AND 26 THEN rgt + -22 WHEN rgt BETWEEN 3 AND 26 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 13 THEN 10 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000229)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 13) [0m
  [4;35;1mDepartment Load (0.000438)[0m   [0mSELECT * FROM departments WHERE (departments."parent_id" = 1) [0m
  [4;36;1mSQL (0.000364)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003041)[0m   [0mDROP TABLE categories[0m
  [4;36;1mSQL (0.001987)[0m   [0;1mCREATE TABLE categories ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.001825)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.004091)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001972)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mCategory Load (0.001321)[0m   [0mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) ORDER BY lft[0m
  [4;36;1mCategory Load (0.000455)[0m   [0;1mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) [0m
  [4;35;1mSQL (0.000358)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000434)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 1', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000219)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000119)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 2', 3, NULL, 4)[0m
  [4;35;1mDepartment Update (0.000167)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 3 AND 4 THEN lft + -1 WHEN lft BETWEEN 2 AND 4 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 3 AND 4 THEN rgt + -1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 2 THEN 1 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000259)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 2) [0m
  [4;35;1mSQL (0.000211)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000107)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 3', 5, NULL, 6)[0m
  [4;35;1mDepartment Update (0.000216)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -2 WHEN lft BETWEEN 3 AND 6 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -2 WHEN rgt BETWEEN 3 AND 6 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 3 THEN 2 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000339)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 3) [0m
  [4;35;1mSQL (0.000223)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000115)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 4', 7, NULL, 8)[0m
  [4;35;1mDepartment Update (0.000175)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 7 AND 8 THEN lft + -4 WHEN lft BETWEEN 3 AND 8 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 7 AND 8 THEN rgt + -4 WHEN rgt BETWEEN 3 AND 8 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 4 THEN 2 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000236)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 4) [0m
  [4;35;1mSQL (0.000168)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000098)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 5', 9, NULL, 10)[0m
  [4;35;1mDepartment Update (0.000162)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 9 AND 10 THEN lft + -6 WHEN lft BETWEEN 3 AND 10 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 9 AND 10 THEN rgt + -6 WHEN rgt BETWEEN 3 AND 10 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 5 THEN 2 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000247)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 5) [0m
  [4;35;1mSQL (0.000176)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000099)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 6', 11, NULL, 12)[0m
  [4;35;1mDepartment Update (0.000184)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 11 AND 12 THEN lft + -9 WHEN lft BETWEEN 2 AND 12 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 11 AND 12 THEN rgt + -9 WHEN rgt BETWEEN 2 AND 12 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 6 THEN 1 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000261)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 6) [0m
  [4;35;1mSQL (0.000189)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000104)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 7', 13, NULL, 14)[0m
  [4;35;1mDepartment Update (0.000191)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 13 AND 14 THEN lft + -10 WHEN lft BETWEEN 3 AND 14 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 13 AND 14 THEN rgt + -10 WHEN rgt BETWEEN 3 AND 14 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 7 THEN 6 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000237)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 7) [0m
  [4;35;1mSQL (0.000171)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000099)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 8', 15, NULL, 16)[0m
  [4;35;1mDepartment Update (0.000174)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 15 AND 16 THEN lft + -12 WHEN lft BETWEEN 3 AND 16 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 15 AND 16 THEN rgt + -12 WHEN rgt BETWEEN 3 AND 16 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 8 THEN 6 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000230)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 8) [0m
  [4;35;1mSQL (0.000169)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000099)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 9', 17, NULL, 18)[0m
  [4;35;1mDepartment Update (0.000206)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 17 AND 18 THEN lft + -14 WHEN lft BETWEEN 3 AND 18 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 17 AND 18 THEN rgt + -14 WHEN rgt BETWEEN 3 AND 18 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 9 THEN 6 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000252)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 9) [0m
  [4;35;1mSQL (0.000184)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000100)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 10', 19, NULL, 20)[0m
  [4;35;1mDepartment Update (0.000184)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 19 AND 20 THEN lft + -17 WHEN lft BETWEEN 2 AND 20 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 19 AND 20 THEN rgt + -17 WHEN rgt BETWEEN 2 AND 20 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 10 THEN 1 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000240)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 10) [0m
  [4;35;1mSQL (0.000170)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000098)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 11', 21, NULL, 22)[0m
  [4;35;1mDepartment Update (0.000185)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 21 AND 22 THEN lft + -18 WHEN lft BETWEEN 3 AND 22 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 21 AND 22 THEN rgt + -18 WHEN rgt BETWEEN 3 AND 22 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 11 THEN 10 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000228)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 11) [0m
  [4;35;1mSQL (0.000167)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000099)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 12', 23, NULL, 24)[0m
  [4;35;1mDepartment Update (0.000191)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 23 AND 24 THEN lft + -20 WHEN lft BETWEEN 3 AND 24 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 23 AND 24 THEN rgt + -20 WHEN rgt BETWEEN 3 AND 24 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 12 THEN 10 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000229)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 12) [0m
  [4;35;1mSQL (0.000168)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000098)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 13', 25, NULL, 26)[0m
  [4;35;1mDepartment Update (0.000193)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 25 AND 26 THEN lft + -22 WHEN lft BETWEEN 3 AND 26 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 25 AND 26 THEN rgt + -22 WHEN rgt BETWEEN 3 AND 26 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 13 THEN 10 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000231)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 13) [0m
  [4;35;1mDepartment Load (0.000428)[0m   [0mSELECT * FROM departments WHERE (departments."parent_id" = 1) [0m
  [4;36;1mSQL (0.000429)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.002527)[0m   [0mDROP TABLE categories[0m
  [4;36;1mSQL (0.002118)[0m   [0;1mCREATE TABLE categories ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.001935)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.001974)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001824)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mCategory Load (0.001312)[0m   [0mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) ORDER BY lft[0m
  [4;36;1mCategory Load (0.000456)[0m   [0;1mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) [0m
  [4;35;1mSQL (0.000345)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000424)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 1', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000258)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000140)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 2', 3, NULL, 4)[0m
  [4;35;1mDepartment Update (0.000193)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 3 AND 4 THEN lft + -1 WHEN lft BETWEEN 2 AND 4 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 3 AND 4 THEN rgt + -1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 2 THEN 1 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000269)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 2) [0m
  [4;35;1mSQL (0.000215)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000104)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 3', 5, NULL, 6)[0m
  [4;35;1mDepartment Update (0.000158)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -2 WHEN lft BETWEEN 3 AND 6 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -2 WHEN rgt BETWEEN 3 AND 6 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 3 THEN 2 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000232)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 3) [0m
  [4;35;1mSQL (0.000171)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000113)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 4', 7, NULL, 8)[0m
  [4;35;1mDepartment Update (0.000192)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 7 AND 8 THEN lft + -4 WHEN lft BETWEEN 3 AND 8 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 7 AND 8 THEN rgt + -4 WHEN rgt BETWEEN 3 AND 8 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 4 THEN 2 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000251)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 4) [0m
  [4;35;1mSQL (0.000209)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000112)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 5', 9, NULL, 10)[0m
  [4;35;1mDepartment Update (0.000211)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 9 AND 10 THEN lft + -6 WHEN lft BETWEEN 3 AND 10 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 9 AND 10 THEN rgt + -6 WHEN rgt BETWEEN 3 AND 10 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 5 THEN 2 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000281)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 5) [0m
  [4;35;1mSQL (0.000205)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000107)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 6', 11, NULL, 12)[0m
  [4;35;1mDepartment Update (0.000170)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 11 AND 12 THEN lft + -9 WHEN lft BETWEEN 2 AND 12 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 11 AND 12 THEN rgt + -9 WHEN rgt BETWEEN 2 AND 12 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 6 THEN 1 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000231)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 6) [0m
  [4;35;1mSQL (0.000172)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000101)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 7', 13, NULL, 14)[0m
  [4;35;1mDepartment Update (0.000170)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 13 AND 14 THEN lft + -10 WHEN lft BETWEEN 3 AND 14 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 13 AND 14 THEN rgt + -10 WHEN rgt BETWEEN 3 AND 14 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 7 THEN 6 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000232)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 7) [0m
  [4;35;1mSQL (0.000169)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000100)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 8', 15, NULL, 16)[0m
  [4;35;1mDepartment Update (0.000177)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 15 AND 16 THEN lft + -12 WHEN lft BETWEEN 3 AND 16 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 15 AND 16 THEN rgt + -12 WHEN rgt BETWEEN 3 AND 16 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 8 THEN 6 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000229)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 8) [0m
  [4;35;1mSQL (0.000171)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000099)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 9', 17, NULL, 18)[0m
  [4;35;1mDepartment Update (0.000179)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 17 AND 18 THEN lft + -14 WHEN lft BETWEEN 3 AND 18 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 17 AND 18 THEN rgt + -14 WHEN rgt BETWEEN 3 AND 18 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 9 THEN 6 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000232)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 9) [0m
  [4;35;1mSQL (0.000170)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000100)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 10', 19, NULL, 20)[0m
  [4;35;1mDepartment Update (0.000183)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 19 AND 20 THEN lft + -17 WHEN lft BETWEEN 2 AND 20 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 19 AND 20 THEN rgt + -17 WHEN rgt BETWEEN 2 AND 20 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 10 THEN 1 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000240)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 10) [0m
  [4;35;1mSQL (0.000168)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000100)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 11', 21, NULL, 22)[0m
  [4;35;1mDepartment Update (0.000185)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 21 AND 22 THEN lft + -18 WHEN lft BETWEEN 3 AND 22 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 21 AND 22 THEN rgt + -18 WHEN rgt BETWEEN 3 AND 22 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 11 THEN 10 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000242)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 11) [0m
  [4;35;1mSQL (0.000171)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000103)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 12', 23, NULL, 24)[0m
  [4;35;1mDepartment Update (0.000191)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 23 AND 24 THEN lft + -20 WHEN lft BETWEEN 3 AND 24 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 23 AND 24 THEN rgt + -20 WHEN rgt BETWEEN 3 AND 24 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 12 THEN 10 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000233)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 12) [0m
  [4;35;1mSQL (0.000178)[0m   [0mSELECT max(rgt) AS max_rgt FROM departments [0m
  [4;36;1mDepartment Create (0.000099)[0m   [0;1mINSERT INTO departments ("name", "lft", "parent_id", "rgt") VALUES('Model 13', 25, NULL, 26)[0m
  [4;35;1mDepartment Update (0.000195)[0m   [0mUPDATE departments SET lft = CASE WHEN lft BETWEEN 25 AND 26 THEN lft + -22 WHEN lft BETWEEN 3 AND 26 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt BETWEEN 25 AND 26 THEN rgt + -22 WHEN rgt BETWEEN 3 AND 26 THEN rgt + 2 ELSE rgt END, parent_id = CASE WHEN id = 13 THEN 10 ELSE parent_id END [0m
  [4;36;1mDepartment Load (0.000287)[0m   [0;1mSELECT * FROM departments WHERE (departments."id" = 13) [0m
  [4;35;1mDepartment Load (0.000486)[0m   [0mSELECT * FROM departments WHERE (departments."parent_id" = 1) [0m
  [4;36;1mSQL (0.000375)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003184)[0m   [0mDROP TABLE categories[0m
  [4;36;1mSQL (0.113621)[0m   [0;1mCREATE TABLE categories ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.002132)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002793)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002424)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mCategory Load (0.001309)[0m   [0mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) ORDER BY lft[0m
  [4;36;1mCategory Load (0.000473)[0m   [0;1mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) [0m
  [4;35;1mCategory Load (0.000450)[0m   [0mSELECT * FROM categories WHERE (categories."id" = 1) [0m
  [4;36;1mSQL (0.000425)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.002730)[0m   [0mDROP TABLE categories[0m
  [4;36;1mSQL (0.002156)[0m   [0;1mCREATE TABLE categories ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.002031)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002013)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001936)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mCategory Load (0.001296)[0m   [0mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) ORDER BY lft[0m
  [4;36;1mCategory Load (0.000496)[0m   [0;1mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) [0m
  [4;35;1mCategory Load (0.000450)[0m   [0mSELECT * FROM categories WHERE (categories."id" = 1) [0m
  [4;36;1mCategory Load (0.000591)[0m   [0;1mSELECT * FROM categories WHERE (categories."parent_id" = 1) [0m
  [4;36;1mSQL (0.000396)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003272)[0m   [0mDROP TABLE categories[0m
  [4;36;1mSQL (0.002603)[0m   [0;1mCREATE TABLE categories ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.001357)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.001376)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001477)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mCategory Load (0.003119)[0m   [0mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) ORDER BY lft[0m
  [4;36;1mCategory Load (0.000541)[0m   [0;1mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) [0m
  [4;35;1mCategory Load (0.000432)[0m   [0mSELECT * FROM categories WHERE (categories."id" = 1) [0m
  [4;36;1mCategory Load (0.000584)[0m   [0;1mSELECT * FROM categories WHERE (categories."parent_id" = 1) [0m
  [4;36;1mSQL (0.000398)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.002739)[0m   [0mDROP TABLE categories[0m
  [4;36;1mSQL (0.002140)[0m   [0;1mCREATE TABLE categories ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.001988)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002115)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001896)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mCategory Load (0.001126)[0m   [0mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) ORDER BY lft[0m
  [4;36;1mCategory Load (0.000381)[0m   [0;1mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) [0m
  [4;35;1mCategory Load (0.000371)[0m   [0mSELECT * FROM categories WHERE (categories."id" = 1) [0m
  [4;36;1mCategory Load (0.000479)[0m   [0;1mSELECT * FROM categories WHERE (categories."parent_id" = 1) [0m
  [4;36;1mSQL (0.000420)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003199)[0m   [0mDROP TABLE categories[0m
  [4;36;1mSQL (0.105180)[0m   [0;1mCREATE TABLE categories ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.002237)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002523)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.001915)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mCategory Load (0.001339)[0m   [0mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) ORDER BY lft[0m
  [4;36;1mCategory Load (0.000453)[0m   [0;1mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) [0m
  [4;35;1mCategory Load (0.000500)[0m   [0mSELECT * FROM categories WHERE (categories."id" = 1) [0m
  [4;36;1mCategory Load (0.000578)[0m   [0;1mSELECT * FROM categories WHERE (categories."parent_id" = 1) [0m
  [4;36;1mSQL (0.000441)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.003145)[0m   [0mDROP TABLE categories[0m
  [4;36;1mSQL (0.094696)[0m   [0;1mCREATE TABLE categories ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.002075)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002595)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002550)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mCategory Load (0.001309)[0m   [0mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) ORDER BY lft[0m
  [4;36;1mCategory Load (0.000442)[0m   [0;1mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) [0m
  [4;35;1mCategory Load (0.001146)[0m   [0mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) ORDER BY lft LIMIT 1[0m
  [4;36;1mCategory Load (0.000320)[0m   [0;1mSELECT * FROM categories WHERE (categories."id" = 1) [0m
  [4;35;1mCategory Load (0.000435)[0m   [0mSELECT * FROM categories WHERE (categories."id" = 1) [0m
  [4;36;1mCategory Load (0.000672)[0m   [0;1mSELECT * FROM categories WHERE (categories."parent_id" = 1) [0m
  [4;36;1mSQL (0.000732)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.004127)[0m   [0mDROP TABLE categories[0m
  [4;36;1mSQL (0.002433)[0m   [0;1mCREATE TABLE categories ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.002226)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.002562)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002579)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mCategory Load (0.086834)[0m   [0mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) ORDER BY lft[0m
  [4;36;1mCategory Load (0.000840)[0m   [0;1mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) [0m
  [4;35;1mCategory Load (0.001780)[0m   [0mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) ORDER BY lft LIMIT 1[0m
  [4;36;1mCategory Load (0.000534)[0m   [0;1mSELECT * FROM categories WHERE (categories."id" = 1) [0m
  [4;35;1mCategory Load (0.000751)[0m   [0mSELECT * FROM categories WHERE (categories."id" = 1) [0m
  [4;36;1mCategory Load (0.001017)[0m   [0;1mSELECT * FROM categories WHERE (categories."parent_id" = 1) [0m
  [4;35;1mCategory Load (0.001105)[0m   [0mSELECT * FROM categories WHERE (categories."id" = 5) [0m
  [4;36;1mCategory Load (0.000534)[0m   [0;1mSELECT * FROM categories WHERE (categories."id" = 1) [0m
  [4;35;1mCategory Load (0.000541)[0m   [0mSELECT * FROM categories WHERE (lft <= 8 AND rgt >= 9) LIMIT 1[0m
  [4;36;1mSQL (0.000711)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.004013)[0m   [0mDROP TABLE categories[0m
  [4;36;1mSQL (0.002465)[0m   [0;1mCREATE TABLE categories ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.002226)[0m   [0mDROP TABLE departments[0m
  [4;36;1mSQL (0.003027)[0m   [0;1mCREATE TABLE departments ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "parent_id" integer DEFAULT NULL, "lft" integer DEFAULT NULL, "rgt" integer DEFAULT NULL) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: table schema_info already exists: CREATE TABLE schema_info (version integer)[0m
  [4;36;1mSQL (0.002585)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mCategory Load (0.002090)[0m   [0mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) ORDER BY lft[0m
  [4;36;1mCategory Load (0.000773)[0m   [0;1mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) [0m
  [4;35;1mCategory Load (0.001828)[0m   [0mSELECT * FROM categories WHERE (categories."parent_id" IS NULL) ORDER BY lft LIMIT 1[0m
  [4;36;1mCategory Load (0.000538)[0m   [0;1mSELECT * FROM categories WHERE (categories."id" = 1) [0m
  [4;35;1mCategory Load (0.000694)[0m   [0mSELECT * FROM categories WHERE (categories."id" = 1) [0m
  [4;36;1mCategory Load (0.001008)[0m   [0;1mSELECT * FROM categories WHERE (categories."parent_id" = 1) [0m
  [4;35;1mCategory Load (0.000717)[0m   [0mSELECT * FROM categories WHERE (categories."id" = 5) [0m
  [4;36;1mCategory Load (0.000511)[0m   [0;1mSELECT * FROM categories WHERE (categories."id" = 1) [0m
  [4;35;1mCategory Load (0.000610)[0m   [0mSELECT * FROM categories WHERE (lft <= 8 AND rgt >= 9) LIMIT 1[0m
  [4;36;1mCategory Load (0.000690)[0m   [0;1mSELECT * FROM categories WHERE (categories."id" = 4) [0m
  [4;35;1mCategory Load (0.000506)[0m   [0mSELECT * FROM categories WHERE (categories."id" = 3) [0m
  [4;36;1mCategory Load (0.000544)[0m   [0;1mSELECT * FROM categories WHERE (categories."id" = 3) [0m
